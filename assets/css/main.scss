---
# Only the main Sass file needs front matter
---

/* -------- Original variables you had -------- */
$theme-colors: (
  "coolblack": #090a0b,
  "spacegrey": #353535,
  "snowwhite": #ffffff,
);

$brand-colors: (
  "orangered": #ff5100,
  "greatgold": #f2cb05,
  "greenblue": #389092,
);

$theme-name: "{{ site.theme_color }}";
$brand-name: "{{ site.brand_color }}";
$theme-color: map-get($theme-colors, "snowwhite");
$brand-color: map-get($brand-colors, "greenblue");

@if map-has-key($theme-colors, $theme-name) {
  $theme-color: map-get($theme-colors, $theme-name);
} @else if str-index($theme-name, "#") == 1 {
  $theme-color: {{ site.theme_color | default: '#ffffff' }};
}

@if map-has-key($brand-colors, $brand-name) {
  $brand-color: map-get($brand-colors, $brand-name);
} @else if str-index($brand-name, "#") == 1 {
  $brand-color: {{ site.brand_color | default: '#69b7aa' }};
}

$content-width: {{ site.content_width | default: '920px' }};

/* Import theme base */
@import "yat";

/* --------- Overrides (after import) --------- */

/* Header banner: stable background (no animation) */
:root { --header-banner-height: 45vh; }

.site-header + main::before {
  content: "";
  display: block;
  height: var(--header-banner-height);
  background: #000 url('{{ "/assets/images/banners/moon_banner.png" | relative_url }}') center / cover no-repeat;
  transform: translateZ(0);
  will-change: transform;
}

/* Hide TOC on HOME */
.home #toc,
.home .toc,
.home .post-toc,
.home .toc-wrap,
.home .toc-container,
.home .toc-aside,
.home .home-sidebar,
.home .home-categories {
  display: none !important;
}

/* Hide TOC on CV (H1 id strategy) */
body:has(main h1#cv-title) #toc,
body:has(main h1#cv-title) .toc,
body:has(main h1#cv-title) .post-toc,
body:has(main h1#cv-title) .toc-wrap,
body:has(main h1#cv-title) .toc-container,
body:has(main h1#cv-title) .toc-aside {
  display: none !important;
}

/* Hide TOC on CV (layout marker fallback) */
.layout-cv #toc, .layout-cv .toc, .layout-cv .post-toc, .layout-cv .toc-wrap, .layout-cv .toc-container, .layout-cv .toc-aside,
.page-cv   #toc, .page-cv   .toc, .page-cv   .post-toc, .page-cv   .toc-wrap, .page-cv   .toc-container, .page-cv   .toc-aside {
  display: none !important;
}

/* Optional (commented out): gentle hover drift without flicker */
/*
@media (prefers-reduced-motion: no-preference) {
  .site-header + main:hover::before {
    transition: transform 6s ease;
    transform: translate3d(0, -1%, 0);
  }
}
*/
