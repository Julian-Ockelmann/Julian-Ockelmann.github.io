---
# Only the main Sass file needs front matter (the dashes are enough)
---

/* =====================
   Theme variables (yours)
   ===================== */

/* Default theme colors */
$theme-colors: (
  "coolblack": #090a0b,
  "spacegrey": #353535,
  "snowwhite": #ffffff,
);

/* Default brand colors */
$brand-colors: (
  "orangered": #ff5100,
  "greatgold": #f2cb05,
  "greenblue": #389092,
);

$theme-name: "{{ site.theme_color }}";
$brand-name: "{{ site.brand_color }}";
$theme-color: map-get($theme-colors, "snowwhite");
$brand-color: map-get($brand-colors, "greenblue");

@if map-has-key($theme-colors, $theme-name) {
  $theme-color: map-get($theme-colors, $theme-name);
} @else if str-index($theme-name, "#") == 1 {
  $theme-color: {{ site.theme_color | default: '#ffffff' }};
}

@if map-has-key($brand-colors, $brand-name) {
  $brand-color: map-get($brand-colors, $brand-name);
} @else if str-index($brand-name, "#") == 1 {
  $brand-color: {{ site.brand_color | default: '#69b7aa' }};
}

$content-width: {{ site.content_width | default: '920px' }};

/* Load base Yat styles */
@import "yat";

/* =====================
   Site overrides (ours)
   ===================== */

/* ---- Controls ---- */
:root { --header-banner-height: 45vh; } /* used elsewhere if needed */

/* 1) Hero banner: OFF by default (all pages), ON only on the homepage
   ------------------------------------------------------------------- */
.site-header + main::before {
  display: none !important;  /* default = off */
  content: "";
}

.home .site-header + main::before {
  display: block !important;
  content: "";
  height: 100vh; /* full-screen landing like fleshpng */
  background: #000
    url('{{ "/assets/images/banners/brain_banner.png" | relative_url }}')
    center / cover no-repeat;
  transform: translateZ(0);  /* prevent repaint jitter */
  will-change: transform;
}

/* Remove default padding/margins under the hero on home */
.home .page-content {
  padding-top: 0 !important;
  padding-bottom: 0 !important;
  margin: 0 !important;
}

/* 2) Hide ALL home feed widgets (chips, lists, archives, sidebars)
   ---------------------------------------------------------------- */
.home .home-categories,
.home .post-list,
.home .index-panel,
.home .list,
.home .post-item,
.home .post-preview,
.home .archive-list,
.home .tag-list,
.home .home-sidebar,
.home .page-sidebar,
.home .sidebar,
.home .pagination { display: none !important; }

/* 3) Hide TOC / category sidebar on the HOME page
   ----------------------------------------------- */
.home #toc,
.home .toc,
.home .post-toc,
.home .toc-wrap,
.home .toc-container,
.home .toc-aside,
.home .home-categories { display: none !important; }

/* 4) Hide tags widget anywhere (belt & suspenders; include already gated)
   ---------------------------------------------------------------------- */
.sidebar .tag-list,
.sidebar .tags,
.sidebar .post-tags,
.sidebar .common-list.tags { display: none !important; }

/* 5) Hide TOC on the CV page (multiple robust selectors)
   ------------------------------------------------------ */
/* A) Common layout/body classes in Yat/minima forks */
.layout-cv #toc, .layout-cv .toc, .layout-cv .post-toc, .layout-cv .toc-wrap,
.layout-cv .toc-container, .layout-cv .toc-aside,
.page-cv   #toc, .page-cv   .toc, .page-cv   .post-toc, .page-cv   .toc-wrap,
.page-cv   .toc-container, .page-cv   .toc-aside { display: none !important; }

/* B) Fallback: any body class containing "cv" */
body[class*="cv"] #toc,
body[class*="cv"] .toc,
body[class*="cv"] .post-toc,
body[class*="cv"] .toc-wrap,
body[class*="cv"] .toc-container,
body[class*="cv"] .toc-aside { display: none !important; }

/* C) Last resort: if your CV page title is '# CV {#cv-title}' */
body:has(main h1#cv-title) #toc,
body:has(main h1#cv-title) .toc,
body:has(main h1#cv-title) .post-toc,
body:has(main h1#cv-title) .toc-wrap,
body:has(main h1#cv-title) .toc-container,
body:has(main h1#cv-title) .toc-aside { display: none !important; }
