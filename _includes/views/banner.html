{%- comment -%}
  Home banner with shader filling the banner area.
  Title/subtitle are aligned to the site content grid via .wrapper.
{%- endcomment -%}

{%- if page.url == '/' or page.layout == 'home' -%}
<style>
  :root{
    /* fall back to _config.yml â†’ content_width */
    --content-max: {{ site.content_width | default: '1240px' }};
    --content-pad: clamp(12px, 2vw, 24px);
    --banner-height: var(--banner-height, 60vh);
  }
  .page-banner{ position: relative; height: var(--banner-height); overflow: hidden; background:#000; }
  .page-banner .shader-fill{ position:absolute; inset:0; z-index:1; pointer-events:none; }
  .page-banner .shader-fill canvas{ width:100%; height:100%; display:block; }
  .page-banner .page-banner-inner{
    position: relative; z-index: 2;
    display: flex; align-items: flex-end; height: 100%;
    color: #fff; text-shadow: 0 2px 18px rgba(0,0,0,.35);
  }
  /* ðŸ”’ Align to the same grid as the rest of the site */
  .page-banner .page-banner-inner > .wrapper{
    max-width: var(--content-max);
    width: 100%;
    margin-left: auto; margin-right: auto;
    padding-left: var(--content-pad); padding-right: var(--content-pad);
    padding-bottom: 2rem; /* breathing room from bottom edge */
  }
  .page-banner .page-title{ margin: 0 0 .35rem 0; font-weight: 800; letter-spacing: .2px; }
  .page-banner .page-subtitle{ margin: 0; opacity: .92; }
</style>

<section class="page-banner hero-shader" role="img" aria-label="Header">
  <!-- Shader canvas fills the banner box -->
  <div class="shader-fill" id="shader-banner" aria-hidden="true">
    <canvas id="webgl-canvas"></canvas>
  </div>

  <!-- Banner text aligned to content grid -->
  <div class="page-banner-inner">
    <div class="wrapper">
      <h1 class="page-title">{{ site.title | default: page.title }}</h1>
      {%- if site.description -%}
        <p class="page-subtitle">{{ site.description }}</p>
      {%- endif -%}
    </div>
  </div>
</section>
{%- endif -%}
